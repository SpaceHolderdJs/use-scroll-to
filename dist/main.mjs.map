{"version":3,"sources":["../src/hooks/useScrollTo.ts","../src/contexts/ScrollTop.context.tsx","../src/components/Link.tsx","../src/components/ScrollPoint.tsx"],"sourcesContent":["import { useCallback, useContext } from \"react\";\r\nimport { ScrollTopContext } from \"../contexts/ScrollTop.context\";\r\n\r\ndeclare type ScrollOptions = ScrollIntoViewOptions & {\r\n    offsetX?: number;\r\n    offsetY?: number;\r\n};\r\n\r\nexport const useScrollTo = (\r\n    tag: string,\r\n    options: ScrollOptions = { behavior: \"smooth\", offsetX: 0, offsetY: 0 }\r\n) => {\r\n    const { current, elementsRefs, options: contextOptions } = useContext(ScrollTopContext)!;\r\n\r\n    const scroll = useCallback(() => {\r\n        const { offsetX, offsetY, ...defaultOptions } = options;\r\n\r\n        if (elementsRefs) {\r\n            const element = elementsRefs[tag as keyof typeof elementsRefs];\r\n\r\n            if (offsetX || offsetY) {\r\n                window.scrollTo({\r\n                    left: offsetX || 0,\r\n                    top: offsetY || 0,\r\n                    behavior: defaultOptions.behavior || \"smooth\",\r\n                });\r\n            }\r\n\r\n            element?.current?.scrollIntoView(contextOptions || defaultOptions);\r\n        }\r\n    }, [options, elementsRefs, tag, contextOptions]);\r\n\r\n    return { scroll, current };\r\n};\r\n","import {\r\n  PropsWithChildren,\r\n  createContext,\r\n  FC,\r\n  useState,\r\n  Dispatch,\r\n  RefObject,\r\n} from \"react\";\r\n\r\nexport type ElementsType = {\r\n  [k: string]: RefObject<HTMLElement | null> | null;\r\n};\r\n\r\nexport interface ScrollTopContextItemsInterface {\r\n  current: RefObject<HTMLElement | null> | null;\r\n  setCurrent: Dispatch<RefObject<HTMLElement | null> | null>;\r\n  elementsRefs: ElementsType | null;\r\n  setElementsRefs: Dispatch<ElementsType | null>;\r\n  options?: ScrollOptions | null\r\n}\r\n\r\nexport const ScrollTopContext =\r\n  createContext<ScrollTopContextItemsInterface | null>(null);\r\n\r\nexport const ScrollTopContextProvider: FC<\r\n  PropsWithChildren & { options?: ScrollOptions }\r\n> = ({ children, options }) => {\r\n  const [elementsRefs, setElementsRefs] = useState<ElementsType | null>(null);\r\n  const [current, setCurrent] = useState<RefObject<HTMLElement | null> | null>(\r\n    null\r\n  );\r\n\r\n  return (\r\n    <ScrollTopContext.Provider\r\n      value={{\r\n        elementsRefs,\r\n        setElementsRefs,\r\n        current,\r\n        setCurrent,\r\n        options\r\n      }}\r\n    >\r\n      {children}\r\n    </ScrollTopContext.Provider>\r\n  );\r\n};\r\n","import {\r\n  PropsWithChildren,\r\n  FC,\r\n  DetailedHTMLProps,\r\n  HTMLAttributes,\r\n} from \"react\";\r\nimport { useScrollTo } from \"../hooks\";\r\n\r\nexport const Link: FC<\r\n  PropsWithChildren &\r\n    DetailedHTMLProps<HTMLAttributes<HTMLElement>, HTMLElement> & {\r\n      elementTag: string;\r\n      isHasRouted?: boolean;\r\n    } \r\n> = ({ children, elementTag, isHasRouted = false }) => {\r\n  const { scroll } = useScrollTo(elementTag);\r\n  return isHasRouted ? (\r\n    <a href={`#${elementTag}`}>{}</a>\r\n  ) : (\r\n    <span onClick={scroll}>{children}</span>\r\n  );\r\n};\r\n","import {\r\n  PropsWithChildren,\r\n  FC,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  DetailedHTMLProps,\r\n  HTMLAttributes,\r\n} from \"react\";\r\nimport { ElementsType, ScrollTopContext } from \"../contexts/ScrollTop.context\";\r\n\r\nexport const ScrollPoint: FC<\r\n  PropsWithChildren &\r\n    DetailedHTMLProps<HTMLAttributes<HTMLElement>, HTMLElement> & {\r\n      tag: string;\r\n    }\r\n> = ({ children, tag, ...rest }) => {\r\n  const { setElementsRefs } = useContext(ScrollTopContext)!;\r\n  const ref = useRef<HTMLElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    //@ts-ignore\r\n    setElementsRefs((prev: ElementsType) => ({ ...prev, [tag]: ref }));\r\n  }, [setElementsRefs, ref, tag]);\r\n\r\n  return (\r\n    <section id={tag} ref={ref} {...rest}>\r\n      {children}\r\n    </section>\r\n  );\r\n};\r\n"],"mappings":";AAAA,SAAS,aAAa,kBAAkB;;;ACAxC;AAAA,EAEE;AAAA,EAEA;AAAA,OAGK;AA0BH;AAZG,IAAM,mBACX,cAAqD,IAAI;AAEpD,IAAM,2BAET,CAAC,EAAE,UAAU,QAAQ,MAAM;AAC7B,QAAM,CAAC,cAAc,eAAe,IAAI,SAA8B,IAAI;AAC1E,QAAM,CAAC,SAAS,UAAU,IAAI;AAAA,IAC5B;AAAA,EACF;AAEA,SACE;AAAA,IAAC,iBAAiB;AAAA,IAAjB;AAAA,MACC,OAAO;AAAA,QACL;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MAEC;AAAA;AAAA,EACH;AAEJ;;;ADrCO,IAAM,cAAc,CACvB,KACA,UAAyB,EAAE,UAAU,UAAU,SAAS,GAAG,SAAS,EAAE,MACrE;AACD,QAAM,EAAE,SAAS,cAAc,SAAS,eAAe,IAAI,WAAW,gBAAgB;AAEtF,QAAM,SAAS,YAAY,MAAM;AAC7B,UAAM,EAAE,SAAS,SAAS,GAAG,eAAe,IAAI;AAEhD,QAAI,cAAc;AACd,YAAM,UAAU,aAAa,GAAgC;AAE7D,UAAI,WAAW,SAAS;AACpB,eAAO,SAAS;AAAA,UACZ,MAAM,WAAW;AAAA,UACjB,KAAK,WAAW;AAAA,UAChB,UAAU,eAAe,YAAY;AAAA,QACzC,CAAC;AAAA,MACL;AAEA,eAAS,SAAS,eAAe,kBAAkB,cAAc;AAAA,IACrE;AAAA,EACJ,GAAG,CAAC,SAAS,cAAc,KAAK,cAAc,CAAC;AAE/C,SAAO,EAAE,QAAQ,QAAQ;AAC7B;;;AEhBI,gBAAAA,YAAA;AATG,IAAM,OAMT,CAAC,EAAE,UAAU,YAAY,cAAc,MAAM,MAAM;AACrD,QAAM,EAAE,OAAO,IAAI,YAAY,UAAU;AACzC,SAAO,cACL,gBAAAA,KAAC,OAAE,MAAM,IAAI,UAAU,IAAM,IAE7B,gBAAAA,KAAC,UAAK,SAAS,QAAS,UAAS;AAErC;;;ACrBA;AAAA,EAGE,cAAAC;AAAA,EACA;AAAA,EACA;AAAA,OAGK;AAkBH,gBAAAC,YAAA;AAfG,IAAM,cAKT,CAAC,EAAE,UAAU,KAAK,GAAG,KAAK,MAAM;AAClC,QAAM,EAAE,gBAAgB,IAAIC,YAAW,gBAAgB;AACvD,QAAM,MAAM,OAA2B,IAAI;AAE3C,YAAU,MAAM;AAEd,oBAAgB,CAAC,UAAwB,EAAE,GAAG,MAAM,CAAC,GAAG,GAAG,IAAI,EAAE;AAAA,EACnE,GAAG,CAAC,iBAAiB,KAAK,GAAG,CAAC;AAE9B,SACE,gBAAAD,KAAC,aAAQ,IAAI,KAAK,KAAW,GAAG,MAC7B,UACH;AAEJ;","names":["jsx","useContext","jsx","useContext"]}